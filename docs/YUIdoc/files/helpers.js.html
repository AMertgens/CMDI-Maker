<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>helpers.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title=""></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/APP.html">APP</a></li>
                                <li><a href="../classes/APP.GUI.html">APP.GUI</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/CORE.html">CORE</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: helpers.js</h1>
                        
                        <div class="file">
                            <pre class="code prettyprint linenums">
                        ï»¿/*
                        Copyright 2014 Sebastian Zimmer
                        
                        Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
                        you may not use this file except in compliance with the License.
                        You may obtain a copy of the License at
                        
                            http://www.apache.org/licenses/LICENSE-2.0
                        
                        Unless required by applicable law or agreed to in writing, software
                        distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
                        WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                        See the License for the specific language governing permissions and
                        limitations under the License.
                        */
                        
                        
                        function ajax_get(url, success_callback){
                        
                        	var http = new XMLHttpRequest();
                        	
                        	http.open(&quot;GET&quot;, url, true);
                        
                        	http.onreadystatechange = function() { //Call a function when the state changes.
                        
                        		if(http.readyState == 4 &amp;&amp; http.status == 200) {
                        			
                        			console.log(&quot;AJAX successful!&quot;);
                        			
                        			var response = http.responseText;
                        
                        			success_callback(response);
                        			
                        		}
                        	}
                        	
                        	console.log(&quot;Sending ajax request to: &quot; + url);
                        	
                        	return http.send();
                        	
                        }
                        
                        
                        function cloneObject(obj) {
                            var clone = {};
                        	
                        	if (Array.isArray(obj)){
                        		clone = [];
                        	}
                        	
                        
                            for (var i in obj) {
                                if (obj[i] &amp;&amp; typeof obj[i] == &#x27;object&#x27;) {
                                    clone[i] = cloneObject(obj[i]);
                                } else {
                                    clone[i] = obj[i];
                                }
                            }
                        
                            return clone;
                        }
                        
                        
                        function readFileAsText(file, onsuccess){
                        
                        	var reader = new FileReader();
                        	
                        	reader.onload = function(e){
                        		
                        		var result = e.target.result;
                        		
                        		onsuccess(result);
                        		
                        	};
                        	
                        	reader.readAsText(file);
                        
                        }
                        
                        
                        function addScript(url, onloaded){
                        
                        	console.log(&quot;adding script: &quot; + url);
                        
                        	var script = document.createElement(&quot;script&quot;);
                        	script.src = url;
                        	script.addEventListener(&quot;load&quot;, onloaded, false);
                        	
                        	document.head.appendChild(script);
                        
                        }
                        
                        
                        var getIndex = function(array, key, value){
                        
                        	for (var i=0; i &lt; array.length; i++){
                        		
                        		if (array[i][key] == value){
                        			return i;
                        		}
                        	}
                        	
                        	return undefined;
                        
                        };
                        
                        
                        var getIndexByID = function(array, id){
                        
                        	return getIndex(array, &quot;id&quot;, id);
                        
                        };
                        
                        
                        var getObject = function(array, key, value){
                        
                        	for (var i=0; i &lt; array.length; i++){
                        		
                        		if (array[i][key] == value){
                        			return array[i];
                        		}
                        	}
                        	
                        	return undefined;
                        
                        };
                        
                        
                        var getObjectByID = function(array, id){
                        
                        	return getObject(array, &quot;id&quot;, id);
                        
                        };
                        
                        
                        //iterates really through ALL items, even if some of them are deleted along the way
                        var forAllItems = function(array, action){
                        
                        	var i = array.length;
                        
                        	for (;;){
                        	
                        		if (i != 0) {
                        			i = i - 1;
                        		}
                        		
                        		else {
                        			return;
                        		}
                        	
                        		action(array[i]);
                        	
                        	}
                        
                        
                        };
                        
                        
                        var map = function(array, transform) {
                        	var mapped = [];
                        	
                        	for (var i = 0; i &lt; array.length; i++){
                        		mapped.push(transform(array[i]));
                        	}
                        	
                        	return mapped;
                        };
                        
                        
                        var getArrayWithValuesByKey = function(array, key){
                        
                        	var new_array = map(array, function(item){
                        		return item[key];
                        	});
                        
                        	return new_array;
                        
                        }
                        
                        
                        var getArrayWithIDs = function(array){
                        
                        	return getArrayWithValuesByKey(array, &quot;id&quot;);
                        
                        }
                        
                        
                        var filter = function(array, test) {
                        	var passed = [];
                        	for (var i = 0; i &lt; array.length; i++) {
                        		if (test(array[i])){
                        			passed.push(array[i]);
                        		}
                        	}
                        	
                        	return passed;
                        	
                        };
                        
                        
                        var forEach = function(array, action) {
                        	for (var i = 0; i &lt; array.length; i++){
                        		action(array[i], i);
                        	}
                        };
                        
                        
                        //this method is also in dom, but has to be here too to avoid circular dependencies
                        var getSelectedRadioIndex = function (radios){
                        
                        	for (var r = 0; r &lt; radios.length; r++){
                        		
                        		if (radios[r].checked === true){
                        			
                        			return r;
                        			
                        		}
                        		
                        	}
                        	
                        	return 0;
                        	
                        };
                        
                        
                        var log = function(item){
                        
                        	console.log(item);
                        
                        };
                        
                        
                        //this method is also in dom, but has to be here too to avoid circular dependencies
                        var getSelectedRadioValue = function (radios){
                        	
                        	if (typeof radios == &quot;string&quot;){
                        		
                        		radios = document.getElementsByName(radios);
                        		
                        	}
                        	
                        	return radios[getSelectedRadioIndex(radios)].value;
                        	
                        };
                        
                        
                        function get(name){
                        
                        	var elem = document.getElementsByName(name);
                        	
                        	if (elem[0] &amp;&amp; elem[0].nodeName == &quot;INPUT&quot; &amp;&amp; elem[0].type == &quot;radio&quot;){
                        		return getSelectedRadioValue(elem);
                        	}
                        	
                        	elem = elem[0];
                        	
                        	if (typeof elem == &quot;undefined&quot;){
                        	
                        		elem = g(name);
                        	
                        	}
                        	
                        	if (typeof elem == &quot;undefined&quot;){
                        	
                        		console.error(&quot;get: Element &quot; + name + &quot; is undefined!&quot;);
                        		return;
                        	
                        	}	
                        	
                        	switch (elem.nodeName){
                        	
                        		case &quot;INPUT&quot;: return elem.value;
                        	
                        		case &quot;TEXTAREA&quot;: return elem.value;
                        	
                        		case &quot;SELECT&quot;: {
                        			
                        			if (elem.selectedIndex != -1){
                        				return elem.options[elem.selectedIndex].value;
                        			}
                        			
                        			else {
                        				return &quot;&quot;;
                        			}
                        			
                        			break;
                        		}
                        		
                        		default: console.log(&quot;Function \&quot;get\&quot; has been misused with a &quot;+elem.nodeName+&quot; element. This should not have happened!&quot;);
                        	
                        	}
                        }
                        
                        
                        
                        function g_value(id){
                        
                        	return document.getElementById(id).options[document.getElementById(id).options.selectedIndex].value;
                        
                        }
                        
                        
                        var g = function (id){
                        	
                        	if (document.getElementById(id)){
                        		return document.getElementById(id);
                        	}
                        	
                        	if (document.getElementsByName(id).length &gt; 0){
                        		return document.getElementsByName(id);
                        	}
                        	
                        	return undefined;
                        
                        };
                        
                        
                        /**
                         * Remove an element and provide a function that inserts it into its original position
                         * @param element {Element} The element to be temporarily removed
                         * @return {Function} A function that inserts the element into its original position
                         **/
                        var removeToInsertLater = function(element) {
                        	var parentNode = element.parentNode;
                        	var nextSibling = element.nextSibling;
                        	parentNode.removeChild(element);
                        	return function() {
                        		if (nextSibling) {
                        			parentNode.insertBefore(element, nextSibling);
                        		} else {
                        			parentNode.appendChild(element);
                        		}
                        	};
                        }
                        
                        
                        function calcAgeAtDate(dateString,birthDate) {
                        	
                        	var date = +new Date(dateString);
                        	var birthday = +new Date(birthDate);
                        	return ~~((date - birthday) / (31557600000));
                        }
                        
                        
                        function o(object, property_array){ 
                        //returns value of object properties if they exist, if not returns &quot;&quot;
                        
                        	var value = object;
                        	
                        	for (var p=0; p&lt;property_array.length; p++){
                        	
                        	
                        		if (property_array[p] in value){
                        			value = value[property_array[p]];
                        		
                        		}
                        		
                        		else { 
                        			return &quot;&quot;;
                        		}
                        
                        	}
                        	
                        	return value;
                        
                        }
                        
                        
                        function a(array,index){
                        
                        	var list = [];
                        
                        	for (var i=0;i&lt;array.length;i++){
                        
                        		list.push(array[i][index]);
                        	
                        	}
                        
                        	return list;
                        
                        }
                        
                        
                        function today(){
                        
                        	var now = new Date();
                        
                        	var day = now.getDate();	
                        	if (day &lt; 10) {day = &quot;0&quot; + day;}
                        	
                        	var month = now.getMonth();
                        	month += 1;  //as months begin with 0 here
                        	if (month &lt; 10) {month = &quot;0&quot; + month;}
                        
                        
                        	var today_date = now.getFullYear() + &quot;-&quot; + month + &quot;-&quot; + day;
                        
                        	return today_date;
                        }    
                        
                        
                        function sortBySubKey(array,keys){
                        
                            return array.sort(function(a, b) {
                                var x = a[keys[0]][keys[1]];
                                var y = b[keys[0]][keys[1]];
                        
                                if (typeof x == &quot;string&quot;){
                                    x = x.toLowerCase(); 
                                    y = y.toLowerCase();
                                }
                        
                                return ((x &lt; y) ? -1 : ((x &gt; y) ? 1 : 0));
                            });
                        
                        
                        }
                        
                        
                        function sortByKey(array, key) {
                        
                            return array.sort(function(a, b) {
                                var x = a[key];
                                var y = b[key];
                        
                                if (typeof x == &quot;string&quot;){
                                    x = x.toLowerCase(); 
                                    y = y.toLowerCase();
                                }
                        
                                return ((x &lt; y) ? -1 : ((x &gt; y) ? 1 : 0));
                            });
                        } 
                        
                        
                        function parseDate(str){
                        
                        	if (typeof str == &quot;undefined&quot;){
                        		return null;
                        	}
                        
                        	var t = str.match(/([1-2][0-9][0-9][0-9])\-([0-1][0-9])\-([0-3][0-9])/);
                        	
                        	if(t!==null){
                        		
                        		var y=+t[1], m=+t[2], d=+t[3];
                        		var date = new Date(y,m-1,d);
                        		
                        		if(date.getFullYear()===y &amp;&amp; date.getMonth()===m-1){
                        			return {
                        			
                        				year: t[1],
                        				month: t[2],
                        				day: t[3]
                        				
                        			
                        			};   
                        		}
                        	
                        	}
                        	
                        	//if not successful, try other date format
                        	var parts = str.match(/(\d+)/g);
                        	
                        	// note parts[1]-1
                        	if (parts !== null){
                        		var date = new Date(parts[2], parts[1]-1, parts[0]);
                        		
                        		if(date.getFullYear()==parts[2] &amp;&amp; date.getMonth()==parts[1]-1){
                        		
                        			return {
                        			
                        				year: parts[2],
                        				month: parts[1],
                        				day: parts[0]
                        				
                        			
                        			};   
                        		}		
                        		
                        	}
                        	
                        	return null;
                        	
                        };
                        
                        
                        /*
                        var parse_birth_date = function(string){
                        	var year;
                        	var month;
                        	var day;
                        
                        	if (string.length != 10 || string == &quot;Unspecified&quot; || string == &quot;Unknown&quot;){
                        		year = &quot;YYYY&quot;;
                        		month = &quot;MM&quot;;
                        		day = &quot;DD&quot;;
                        	}
                        	
                        	else {
                        	
                        		year = string.slice(0, 4);
                        		month = string.slice(5, 7);
                        		day = string.slice(8, 10);	
                        
                        	}
                        
                        	var object = {
                        	
                        		year: year,
                        		month: month,
                        		day: day
                        	
                        	
                        	};
                        	
                        	
                        	return object;
                        
                        };
                        */
                        
                        var dateAsString = function(date){
                        
                        	var year = date.year;
                        	var month = date.month;
                        	var day = date.day;
                        
                        	if (month &lt; 10){
                        	
                        		month = &quot;0&quot; + month;
                        		
                        	}
                        	
                        	if (day &lt; 10){
                        	
                        		day = &quot;0&quot; + day;
                        		
                        	}
                        
                        	return year + &quot;-&quot; + month + &quot;-&quot; + day;
                        
                        };
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
